<template>
  <div class="relative inline-block">
    <!-- Profile image button -->
    <button
      @click.stop="openUser = !openUser"
      class="w-[50px] h-[50px] overflow-hidden"
    >
      <img :src="avatarIcon" alt="Profile" class="w-full h-full object-cover" />
    </button>

    <!-- Dropdown menu -->
    <transition
      enter-active-class="transition ease-out duration-200"
      enter-from-class="opacity-0 translate-y-1"
      enter-to-class="opacity-100 translate-y-0"
      leave-active-class="transition ease-in duration-150"
      leave-from-class="opacity-100 translate-y-0"
      leave-to-class="opacity-0 translate-y-1"
    >
      <ul
        v-show="openUser"
        class="absolute right-0 top-[50px] w-[260px] bg-white bg-opacity-95 border border-gray-200 space-y-2 rounded-[20px] py-2 px-2 shadow-lg z-50 text-black uppercase"
      >
        <li
          class="flex justify-start py-2 items-center px-4 rounded-full border hover:bg-gray-black hover:text-gold cursor-pointer group"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="w-5 h-5 mr-2 fill-current text-black group-hover:text-gold"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.0185 0.070114C8.34748 0.485389 6.2326 2.43387 5.6116 5.05154C5.13376 7.06582 5.68952 9.27543 7.06717 10.8387C8.7447 12.7422 11.3732 13.5035 13.82 12.7944C15.7487 12.2355 17.4161 10.6819 18.0955 8.81064C19.1995 5.76992 17.9843 2.45254 15.1766 0.842683C13.9558 0.142649 12.4052 -0.145432 11.0185 0.070114ZM10.2306 14.1624C10.1601 14.1731 10.0419 14.2424 9.96792 14.3164C9.71437 14.5699 9.72022 14.6045 10.3182 16.384L10.8645 18.0098L10.5515 19.5909C10.3793 20.4604 10.2234 21.2075 10.205 21.2509C10.1831 21.3026 9.79271 20.2666 9.07635 18.2559C8.34777 16.2109 7.93895 15.127 7.85509 15.0181C7.64661 14.7473 7.50987 14.7409 6.75892 14.9669C5.58596 15.3198 3.88723 15.9924 2.84329 16.5173C2.10156 16.8903 1.40807 17.4665 0.939591 18.0993C0.610703 18.5434 0.300346 19.2025 0.149005 19.7784C0.0490942 20.1584 0.0248534 20.3748 0.00594748 21.0549C-0.00809157 21.5593 0.00313967 21.9811 0.0352423 22.1529C0.198938 23.0298 0.904166 23.745 1.7664 23.9085C2.11471 23.9746 21.8317 23.9746 22.18 23.9085C22.8279 23.7857 23.4498 23.3067 23.725 22.7185C23.804 22.5498 23.8799 22.3271 23.8938 22.2236C23.9077 22.12 23.9372 22.0241 23.9595 22.0103C23.9818 21.9966 24 21.6378 24 21.2132C24 20.7103 23.9837 20.4511 23.9532 20.4699C23.9261 20.4867 23.9064 20.4412 23.9064 20.3617C23.9064 20.0987 23.6757 19.3177 23.4692 18.8818C22.9972 17.8855 22.1597 17.0485 21.1031 16.5173C20.0592 15.9924 18.3605 15.3198 17.1875 14.9669C16.4366 14.7409 16.2998 14.7473 16.0913 15.0181C16.0075 15.127 15.5987 16.2109 14.8701 18.2559C14.1537 20.2666 13.7633 21.3026 13.7414 21.2509C13.723 21.2075 13.5671 20.4604 13.3949 19.5909L13.0819 18.0098L13.6282 16.384C14.225 14.6081 14.2316 14.5695 13.9821 14.3199C13.9058 14.2437 13.7765 14.1766 13.6726 14.1595C13.4802 14.1277 10.4424 14.1303 10.2306 14.1624Z"
            />
          </svg>
          <span>Trung tâm Tài khoản</span>
        </li>

        <li
          class="flex justify-start py-2 items-center px-4 rounded-full border hover:bg-gray-black hover:text-gold cursor-pointer group"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="w-5 h-5 mr-2 fill-current text-black group-hover:text-gold"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M23.121 9.21673L15.536 2.04788C14.5972 1.16334 13.3257 0.666626 12 0.666626C10.6743 0.666626 9.40276 1.16334 8.464 2.04788L0.879011 9.21673C0.599437 9.47924 0.377782 9.79158 0.226894 10.1356C0.0760072 10.4797 -0.0011104 10.8487 1.20795e-05 11.2211V20.4983C1.20795e-05 21.2502 0.316082 21.9713 0.878691 22.5029C1.4413 23.0346 2.20436 23.3333 3.00001 23.3333H21C21.7956 23.3333 22.5587 23.0346 23.1213 22.5029C23.6839 21.9713 24 21.2502 24 20.4983V11.2211C24.0011 10.8487 23.924 10.4797 23.7731 10.1356C23.6222 9.79158 23.4006 9.47924 23.121 9.21673ZM9 17.7256V21.4433H15V17.7256C15 16.9737 14.6839 16.2526 14.1213 15.7209C13.5587 15.1893 12.7956 14.8906 12 14.8906C11.2044 14.8906 10.4413 15.1893 9.87868 15.7209C9.31607 16.2526 9 16.9737 9 17.7256Z"
            />
          </svg>
          <span>Trang cá nhân</span>
        </li>

        <li
          class="flex justify-start py-2 items-center px-4 rounded-full border hover:bg-gray-black hover:text-gold cursor-pointer group"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="w-5 h-5 mr-2 fill-current text-black group-hover:text-gold"
          >
            <path
              d="M13.1341 12.9605C12.8585 13.2355 12.46 13.3963 12.0488 13.3963C11.6375 13.3963 11.239 13.2355 10.9634 12.9605C10.3869 12.385 10.3869 11.3738 10.9634 10.7941L11.7986 9.96051C10.7472 10.0494 9.91627 10.9295 9.91627 12.0042C9.91627 13.1382 10.8362 14.0564 11.9724 14.0564C13.1086 14.0564 13.9905 13.1763 14.0244 12.0719L13.1298 12.9647L13.1341 12.9605Z"
            />
            <path
              d="M16.0806 10.0197C16.3731 10.6206 16.5342 11.2934 16.5342 12C16.5342 14.5134 14.4907 16.5487 11.9767 16.5487C9.46264 16.5487 7.41918 14.5092 7.41918 12C7.41918 9.49083 9.46264 7.45134 11.9767 7.45134C12.6635 7.45134 13.3121 7.60367 13.893 7.87447L15.7371 6.03385C14.6476 5.34838 13.3588 4.95063 11.9767 4.95063C8.07631 4.95063 4.91362 8.10719 4.91362 12C4.91362 15.8928 8.07631 19.0494 11.9767 19.0494C15.8771 19.0494 19.0397 15.8928 19.0397 12C19.0397 10.5952 18.6285 9.2835 17.9163 8.18336L16.0806 10.0155V10.0197Z"
            />
            <path
              d="M21.0154 7.24401L20.0784 7.01975C20.973 8.46686 21.4902 10.1763 21.4902 12.0042C21.4902 17.2511 17.2295 21.5078 11.9682 21.5078C6.70694 21.5078 2.45469 17.2511 2.45469 12C2.45469 6.74894 6.71542 2.50071 11.9767 2.50071C13.7658 2.50071 15.4404 2.99577 16.8691 3.85049L16.6444 2.92807L17.9883 1.58674C16.2332 0.575458 14.1982 0 12.0276 0C5.36301 0 0 5.35261 0 12C0 18.6474 5.36301 24 12.0233 24C16.7843 24 20.8924 21.1989 22.8468 17.2003C23.4997 15.7997 23.8983 14.3018 24 12.6516V12C24 9.77433 23.398 7.69253 22.3508 5.91114L21.0154 7.24401Z"
            />
            <path
              d="M23.6991 3.55013L21.0451 2.8985L20.3922 0.198926L17.4373 3.14815L17.8697 4.91684L11.4722 11.3019C11.1712 11.6023 11.1712 12.1524 11.4722 12.4528C11.7732 12.7532 12.3244 12.7532 12.6254 12.4528L19.0568 6.03391L20.795 6.4528L23.6991 3.55436V3.55013Z"
            />
          </svg>
          <span>Nhiệm vụ</span>
        </li>

        <li
          class="group flex justify-start py-2 items-center px-4 rounded-full border hover:bg-gray-black cursor-pointer"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="w-5 h-5 mr-2 fill-current text-black group-hover:text-gold"
          >
            <path
              d="M4.27498 6.67554V8.27694C3.95638 8.27694 3.64738 8.27694 3.33838 8.27694C2.85718 8.27694 2.57038 8.43474 2.57278 8.69754C2.57518 8.95434 2.86318 9.10674 3.34978 9.10674C9.10618 9.10674 14.8632 9.10614 20.6196 9.10734C21.8316 9.10734 22.956 10.0379 23.0706 11.1431C23.1408 11.8217 23.0838 12.5129 23.0838 13.2419H22.845C21.444 13.2419 20.0424 13.2347 18.6414 13.2437C16.998 13.2545 15.5922 14.4377 15.3132 15.9659C14.9952 17.7071 16.1484 19.3721 17.8614 19.7561C18.1254 19.8155 18.3996 19.8563 18.6696 19.8587C20.0526 19.8689 21.4362 19.8641 22.8198 19.8641C22.9158 19.8641 23.0118 19.8641 23.1882 19.8641C23.1336 20.6741 23.172 21.4751 23.007 22.2347C22.7814 23.2745 21.6756 23.9999 20.568 23.9993C14.5524 23.9981 8.53738 24.0005 2.52178 23.9975C1.30918 23.9969 0.225579 23.0693 0.0611795 21.9689C0.0311795 21.7673 0.0083795 21.5621 0.0077795 21.3587C0.0041795 17.2385 -0.0090205 13.1189 0.0125795 8.99874C0.0185795 7.84974 0.926979 6.83874 2.08798 6.69174C2.79538 6.60234 3.52498 6.67554 4.27558 6.67554H4.27498Z"
            />
            <path
              d="M12.9684 4.09614C12.6624 4.79634 12.357 5.49414 12.0516 6.19194C11.7726 6.82914 11.4966 7.46694 11.2104 8.10054C11.178 8.17194 11.0886 8.26794 11.0238 8.26974C10.4454 8.28294 9.86638 8.27754 9.24478 8.27754C9.28318 8.14674 9.30298 8.04054 9.34498 7.94334C10.3404 5.66274 11.3406 3.38454 12.3336 1.10334C12.7242 0.206337 13.7256 -0.258063 14.721 0.148137C17.1612 1.14354 19.6038 2.13474 22.041 3.13854C23.0022 3.53454 23.3976 4.52754 22.9776 5.44374C22.5696 6.33414 22.155 7.22214 21.7356 8.10774C21.7026 8.17734 21.6114 8.26854 21.5454 8.26974C20.994 8.28294 20.442 8.27694 19.8114 8.27694C19.9866 7.86294 20.1438 7.49154 20.301 7.12074C18.7536 6.34674 18.4254 4.86474 18.8988 3.72774C18.0984 3.39834 17.2974 3.06894 16.4718 2.72934C16.1472 3.35634 15.6846 3.84714 15 4.10454C14.3322 4.35594 13.6602 4.36794 12.9678 4.09554L12.9684 4.09614Z"
            />
            <path
              d="M20.9868 14.0717C21.7008 14.0717 22.4142 14.0717 23.1282 14.0717C23.6292 14.0723 23.994 14.4287 23.994 14.9159C23.994 16.0019 23.9808 17.0873 24 18.1727C24.0078 18.6053 23.6148 19.0409 23.0916 19.0367C21.6732 19.0265 20.2542 19.0511 18.8358 19.0283C17.6844 19.0103 16.6692 18.1907 16.4418 17.1047C16.254 16.2077 16.4712 15.4235 17.1372 14.7791C17.6232 14.3093 18.2304 14.0717 18.9264 14.0705C19.6134 14.0693 20.3004 14.0705 20.9874 14.0705L20.9868 14.0717ZM19.689 17.4857C20.277 17.4881 20.676 17.1083 20.6778 16.5455C20.6796 16.0199 20.2704 15.6191 19.728 15.6149C19.1694 15.6107 18.7368 16.0115 18.7362 16.5341C18.7362 17.0837 19.1358 17.4839 19.689 17.4863V17.4857Z"
            />
            <path
              d="M11.28 0.993537C11.148 1.29774 11.0172 1.60194 10.884 1.90554C9.98758 3.95634 9.08758 6.00594 8.19958 8.05974C8.12458 8.23374 8.03638 8.29494 7.84978 8.28174C7.64818 8.26734 7.44418 8.27874 7.19578 8.27874C7.29718 7.90674 7.38838 7.57134 7.48018 7.23714C7.95058 5.51994 8.42218 3.80274 8.89078 2.08494C9.06178 1.45854 9.66778 0.938337 10.3296 0.887937C10.6278 0.865137 10.9296 0.884337 11.2296 0.884337C11.2464 0.920937 11.2632 0.958137 11.28 0.994737V0.993537Z"
            />
            <path
              d="M12.6012 8.26314C12.5448 7.45014 13.1652 6.53394 14.0364 6.21954C15.2856 5.76954 16.452 5.93934 17.5116 6.74394C17.97 7.09194 18.2976 7.52334 18.4896 8.05254C18.5118 8.11434 18.5238 8.17974 18.5454 8.26314H12.6012Z"
            />
            <path
              d="M7.84018 1.72374C7.23598 3.91734 6.63598 6.09294 6.03658 8.26854H5.24758C5.28898 7.92054 5.32438 7.58514 5.36938 7.25094C5.45158 6.64314 5.53738 6.03594 5.62618 5.42934C5.71078 4.84794 5.80198 4.26774 5.88898 3.68694C5.92438 3.45114 5.95198 3.21474 5.99338 2.98014C6.12538 2.22354 7.03738 1.57434 7.84018 1.72434V1.72374Z"
            />
          </svg>
          <span class="text-black group-hover:text-gold">Ví của bạn</span>
        </li>

        <li
          class="group flex justify-start py-2 items-center px-4 rounded-full border hover:bg-gray-black cursor-pointer"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="w-5 h-5 mr-2 fill-current text-black group-hover:text-gold"
          >
            <path
              d="M1.15662 23.3333C1.1495 23.3217 1.1455 23.3044 1.13528 23.2995C0.774696 23.1262 0.611968 22.8525 0.683106 22.5357C0.75869 22.1989 1.02501 22.0118 1.42205 22.0029C1.62524 21.9985 1.8969 22.0936 2.0125 21.9616C2.11209 21.8478 2.04184 21.5826 2.04184 21.3844C2.04273 19.1777 2.04184 16.9711 2.04228 14.7645C2.04228 14.185 2.28193 13.9446 2.85904 13.9442C3.64867 13.9442 4.43785 13.9438 5.22748 13.9442C5.77836 13.9442 6.02734 14.1908 6.02734 14.7369C6.02734 17.0542 6.02734 19.3719 6.02734 21.6892C6.02734 21.8998 6.12886 22.0051 6.3319 22.0051C6.59022 22.0051 6.84898 21.9931 7.10641 22.0091C7.29715 22.0207 7.36296 21.9785 7.36162 21.7665C7.35051 20.3126 7.3554 18.8587 7.35584 17.4048C7.35584 16.844 7.60082 16.6023 8.1677 16.6019C8.97201 16.6019 9.77631 16.6005 10.5806 16.6019C11.0821 16.6027 11.3405 16.8622 11.3405 17.3675C11.3413 18.8436 11.344 20.3197 11.3365 21.7954C11.3356 21.9709 11.3822 22.0167 11.553 22.0087C11.8624 21.9945 12.1732 21.9949 12.4822 22.0087C12.6409 22.0158 12.6734 21.9669 12.673 21.8145C12.6676 19.6079 12.6694 17.4012 12.6694 15.1946C12.6694 14.1539 12.669 13.1133 12.6694 12.0726C12.6694 11.5389 12.921 11.2874 13.4537 11.287C14.258 11.2861 15.0623 11.2861 15.8666 11.287C16.4015 11.2874 16.654 11.5381 16.654 12.0695C16.6545 15.3021 16.6558 18.5348 16.65 21.767C16.65 21.9491 16.6749 22.0269 16.8821 22.01C17.1609 21.9878 17.4432 21.99 17.7224 22.0091C17.9283 22.0234 17.9883 21.9754 17.9883 21.7541C17.9803 17.3777 17.9825 13.0013 17.9825 8.62446C17.9825 8.41784 17.9798 8.21122 17.983 8.0046C17.9901 7.57535 18.2608 7.30341 18.6934 7.30119C19.5418 7.29764 20.3905 7.29808 21.2388 7.30119C21.6977 7.30252 21.9658 7.57135 21.9662 8.03214C21.9685 9.41229 21.9671 10.7924 21.9671 12.1726C21.9671 15.3755 21.9689 18.5788 21.9627 21.7816C21.9627 21.9629 22 22.0367 22.1876 22.0069C22.2739 21.9931 22.365 22.0127 22.4526 22.0034C22.8635 21.9594 23.1636 22.1113 23.3396 22.4917V22.8458C23.2814 23.1125 23.1191 23.2751 22.8528 23.3328H1.15662V23.3333Z"
            />
            <path
              d="M14.6813 4.64265C15.0245 4.65643 15.3317 4.72841 15.6092 4.89282C15.719 4.95814 15.7937 4.96258 15.9017 4.87993C16.5873 4.35605 17.2782 3.83971 17.9705 3.32516C18.0536 3.26339 18.0803 3.21096 18.0523 3.10654C17.7891 2.12942 18.3724 1.10786 19.279 0.791926C20.3132 0.431559 21.3371 0.868799 21.7933 1.84281C22.129 2.55999 21.9489 3.50912 21.37 4.06855C20.7489 4.66887 19.7974 4.81639 19.062 4.40981C18.9162 4.32939 18.8255 4.33427 18.6952 4.43425C18.0403 4.93681 17.3783 5.43093 16.7149 5.92282C16.6033 6.00547 16.5611 6.07079 16.5958 6.22676C16.754 6.9466 16.5553 7.5798 16.0209 8.07747C15.4482 8.61069 14.7649 8.76754 14.0152 8.50449C13.8472 8.44539 13.756 8.47471 13.6387 8.59424C12.8557 9.38741 12.0674 10.1748 11.2755 10.9595C11.1799 11.0542 11.1528 11.1261 11.2044 11.2621C11.6214 12.3672 11.0208 13.5203 9.85634 13.8678C8.80928 14.1802 7.64528 13.4767 7.40697 12.3814C7.37407 12.2312 7.34828 12.0713 7.36473 11.9206C7.38296 11.7527 7.33094 11.6754 7.18155 11.6038C6.63735 11.3439 6.09892 11.0719 5.56228 10.7964C5.45468 10.7409 5.38354 10.7444 5.28929 10.8231C4.29291 11.6554 2.81102 11.299 2.23836 10.1508C1.66481 8.99994 2.44288 7.49804 3.71847 7.33541C5.02341 7.16922 6.05846 8.10191 6.01578 9.41007C6.01267 9.50783 6.0389 9.55537 6.12249 9.5967C6.70315 9.8833 7.28248 10.1717 7.85959 10.4641C7.9365 10.5027 7.98897 10.5023 8.05655 10.4481C8.675 9.94995 9.35482 9.81754 10.1018 10.1184C10.188 10.153 10.236 10.1224 10.2929 10.065C11.1213 9.23411 11.9509 8.40406 12.7828 7.57624C12.8526 7.50648 12.8495 7.45094 12.8179 7.36295C12.4009 6.19343 12.9722 5.06967 14.1566 4.71641C14.3349 4.66309 14.519 4.65554 14.6808 4.64221L14.6813 4.64265Z"
            />
          </svg>
          <span class="text-black group-hover:text-gold"
            >lịch sử giao dịch</span
          >
        </li>

        <li
          class="group flex justify-start py-2 items-center px-4 rounded-full border hover:bg-gray-black cursor-pointer"
          @click="logout"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 22"
            class="w-5 h-5 mr-2 fill-current text-black group-hover:text-gold"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M3.15793 0.333374C2.32039 0.333374 1.51716 0.670516 0.924936 1.27063C0.33271 1.87075 0 2.68468 0 3.53337V18.4667C0 19.3154 0.33271 20.1293 0.924936 20.7294C1.51716 21.3296 2.32039 21.6667 3.15793 21.6667H9.47379C10.3113 21.6667 11.1146 21.3296 11.7068 20.7294C12.299 20.1293 12.6317 19.3154 12.6317 18.4667V3.53337C12.6317 2.68468 12.299 1.87075 11.7068 1.27063C11.1146 0.670516 10.3113 0.333374 9.47379 0.333374H3.15793ZM13.9928 5.97924C14.1902 5.77927 14.4579 5.66694 14.737 5.66694C15.0161 5.66694 15.2838 5.77927 15.4812 5.97924L19.6918 10.2459C19.8891 10.4459 20 10.7172 20 11C20 11.2829 19.8891 11.5541 19.6918 11.7542L15.4812 16.0208C15.2827 16.2151 15.0168 16.3227 14.7408 16.3202C14.4648 16.3178 14.2008 16.2056 14.0056 16.0078C13.8104 15.8101 13.6997 15.5425 13.6973 15.2629C13.6949 14.9832 13.801 14.7137 13.9928 14.5126L16.4065 12.0667H7.3685C7.08933 12.0667 6.82158 11.9543 6.62417 11.7543C6.42676 11.5542 6.31586 11.2829 6.31586 11C6.31586 10.7171 6.42676 10.4458 6.62417 10.2458C6.82158 10.0458 7.08933 9.93337 7.3685 9.93337H16.4065L13.9928 7.48751C13.7954 7.28748 13.6846 7.01622 13.6846 6.73337C13.6846 6.45053 13.7954 6.17927 13.9928 5.97924Z"
            />
          </svg>
          <span class="text-black group-hover:text-gold">Thoát tài khoản</span>
        </li>
      </ul>
    </transition>
  </div>
</template>

<script setup lang="ts">
import avatarIcon from "~/assets/icons/user-avatar.svg";
import { logout } from "@/composables/useAuth";

const openUser = ref(false);
</script>
